##### TIL [2023.03.09-10]



1.inference api 작성 (요건이 오면 더 명확해질테니 일단 기본작성으로 생각..)

가지고 있는 이미지 폴더의 path 지정하여 inference 한 결과 output class 를 return하도록 함



2.base64를 이용한 이미지 전달 방식으로 코드 작성

(base64를 import하여 이미지 파일 데이터를 string으로 저장하는 방식이라고 한다)

근데 이미지를 한장밖에 못 받는 것 같아서 라인에서 여러장을 받을 경우는 다른 방법을 해야하는 것이 아닐까 싶다. 

추가로 서치해보니 FastAPI에 File이라는 것을 통해 이미지 자체로 보낼 수 있는 방법도 있다.

https://fastapi.tiangolo.com/tutorial/request-files/



공식문서를 보고 따라하는 것과 실제로 어떠한 요건에 대해서 코드를 작성해보려니 많이 어려운 것 같다.

자괴감도 오고 스스로가 좀 미워지긴 함.



---

[menual 작성]

동훈M과 지난번 메뉴얼 작성 이야기를 하고난 후, 튜토리얼 작성하던 부분 (분석 부분이라 작성 마무리지어서 드리기로 함)

계속 에러가 뜨고 불안정해서 stage에서 진행

아쉽다고 느낀점들 추가 

- 데이터 확인의 번거로움
  
  - 전처리 작업 후 생성된 dataframe -> 다음 전처리 수행 시 컬럼을 새로 생성하거나, drop하는 등의 작업이 있을 때 그리고 이러한 작업으로 컬럼들의 변화가 많을 경우, 코드 입력창을 끄고 다시 데이터를 눌러 컬럼을 확인하는 작업이 불편하다고 느껴짐
  - return type이 항상 dataframe 

(지난번)

- jupyter cell 단위 수행보다 느리고 답답함
  
  - 정형데이터의 경우 한 cell단위로 실행하고 원하는 처리가 1, 2, 3이 있다고 하면 각각의 처리 후 dataframe에 제대로 적용이 되었는가를 보는데 한 노드를 만들고 결과 dataset을 보고 이러니 굉장히 피로함이 몰려옴 (다른 IDE썼으면 벌써 끝났겠다의 느낌...)
  
  - 단순히 class 내부 함수 사용의 어려움 문제가 아니라고 생각이 든다.

- Debugging 의 어려움
  
  - 오늘 계속 이전에는 문제 없던 코드가 적용이 안되어서 에러가 발생
  
  - 로그를 쭈욱 내려서 확인해보니 meta data가 전달이 안된듯 한데.. 커스텀 노드를 적용한 후의 dataset을 눌러보니 뜨지 않았음 (왜 적용이 안됐을까...? 그때는 맞고 지금은 틀린것일까)
  
  - 노드를 다시 생성하여 해당 코드를 재실행하니 되었음
  
  - 사용자 입장에서 시스템 내부의 문제인건지 (이 부분은 우리가 해결할 문제니 큰 에러메세지 (systemError 라도 크게 보게 해주고, 사용자 코드의 문제라면 내가 로그에서 찾은 부분만이라도 볼 수 있음 좋을 것 같다는 생각이 들었다)
